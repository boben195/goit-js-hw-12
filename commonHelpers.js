import{a as g,i as h,S as v}from"./assets/vendor-951421c8.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();const S="42039284-aa75c07fa754230e40c75f28c",O=document.querySelector(".btn"),f=document.querySelector(".foto-form"),d=document.querySelector(".gallery"),m=document.querySelector(".loader"),s=document.querySelector(".btn-load");s.style.display="none";g.defaults.baseURL="https://pixabay.com/api";let n=1,c="",p=0;const $="is-hidden";f.addEventListener("submit",w);async function w(t){if(t.preventDefault(),d.innerHTML="",n=1,s.style.display="block",c=f.query.value.trim(),!c){u("The search field can't be empty! Please, enter your request!");return}try{const{hits:o,total:a}=await b(c);p=Math.ceil(a/15),L(o,d),o.length>0?(s.classList.remove($),s.addEventListener("click",R)):(s.style.display="block",u("Sorry, there are no images matching your search query. Please, try again!")),y(!1)}catch(o){h.error({title:"ERROR",message:`❌ Ooopsi Doopsi ${o}`})}finally{f.reset(),n===p&&(s.style.display="block",u("We're sorry, but you've reached the end of search results!"))}}async function R(){n++;try{y(!0),s.style.display="block";const{hits:t}=await b(c,n);L(t,d),y(!1)}catch(t){h.error({title:"ERROR",message:`❌ Ooopsi Doopsi ${t}`})}finally{n===p&&(s.style.display="block",u("We're sorry, but you've reached the end of search results!"))}}async function b(t,o=1){return y(!0),g.get("/",{params:{key:S,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:o}}).then(({data:a})=>a)}function L(t){const o=t.map(({webformatURL:a,largeImageURL:i,tags:e,likes:r,views:l,comments:k,downloads:q})=>`<li class="gallery-item">
        <a class="gallery-link" href="${i}">
        <img class="gallery-image" src="${a}" alt="${e}"/>
        <p class="gallery-text">Likes: ${r} Views: ${l} Comments: ${k} Downloads: ${q}</p>
        </a>
        </li>`).join("");d.insertAdjacentHTML("beforeend",o),D.refresh()}const D=new v(".gallery-item a",{captionsData:"alt",captionDelay:250});function u(t){h.show({message:t,close:!1,closeOnClick:!0})}function y(t=!0){m.classList.add("loader"),m.style.display=t?"inline-block":"none",O.disabled=t}m.classList.remove("loader");
//# sourceMappingURL=commonHelpers.js.map
