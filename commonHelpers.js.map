{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"42039284-aa75c07fa754230e40c75f28c\";\n\nconst btn = document.querySelector(\".btn\");\nconst form = document.querySelector(\".foto-form\");\nconst list = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = form.query.value.trim();\n  if (!query) {\n    createMessage(\n      `The search field can't be empty! Please, enter your request!`\n    );\n    return;\n  }\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  getPictures(url)\n    .then(data => {\n      if (data.hits.length === 0) {\n        createMessage(\n          `Sorry, there are no images matching your search query. Please, try again!`\n        );\n        showLoader(false);\n      }\n\n      list.innerHTML = createList(data.hits);\n      showLoader(false);\n      const simplyGallery = new SimpleLightbox('.gallery-item a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      form.reset();\n      simplyGallery.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'ERROR',\n        message: `❌ Ooopsi Doopsi ${error}`,\n      });\n    });\n  \n});\n\nfunction getPictures(url) {\n  showLoader(true);\n  return fetch(url).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nfunction createList(hits) {\n  return hits\n    .map(\n      ({\n        webformatURL, largeImageURL, tags, likes, views, comments, downloads, }) =>\n        `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        <p class=\"gallery-text\">Likes: ${likes} Views: ${views} Comments: ${comments} Downloads: ${downloads}</p>\n        </a>\n        </li>`)\n    .join('');\n    simplyGallery.refresh();\n}\n\n\nfunction createMessage(message) {\n  iziToast.show({\n    message: message,\n    close: false,\n    closeOnClick: true,\n  });\n}\n\nfunction showLoader(state = true) {\n  loader.classList.add('loader')\n  loader.style.display = !state ? 'none' : 'inline-block';\n  btn.disabled = state;\n}\n\nloader.classList.remove('loader')"],"names":["BASE_URL","API_KEY","btn","form","list","loader","event","query","createMessage","url","getPictures","data","showLoader","createList","simplyGallery","SimpleLightbox","error","iziToast","resp","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","message","state"],"mappings":"6vBAMA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAM,SAAS,cAAc,MAAM,EACnCC,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAQJ,EAAK,MAAM,MAAM,KAAI,EACnC,GAAI,CAACI,EAAO,CACVC,EACE,8DACN,EACI,MACD,CACD,MAAMC,EAAM,GAAGT,SAAgBC,OAAaM,4DAE5CG,EAAYD,CAAG,EACZ,KAAKE,GAAQ,CACRA,EAAK,KAAK,SAAW,IACvBH,EACE,2EACV,EACQI,EAAW,EAAK,GAGlBR,EAAK,UAAYS,EAAWF,EAAK,IAAI,EACrCC,EAAW,EAAK,EAChB,MAAME,EAAgB,IAAIC,EAAe,kBAAmB,CAC1D,aAAc,MACd,aAAc,GACtB,CAAO,EACDZ,EAAK,MAAK,EACVW,EAAc,QAAO,CAC3B,CAAK,EACA,MAAME,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mBAAmBD,GACpC,CAAO,CACP,CAAK,CAEL,CAAC,EAED,SAASN,EAAYD,EAAK,CACxB,OAAAG,EAAW,EAAI,EACR,MAAMH,CAAG,EAAE,KAAKS,GAAQ,CAC7B,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,SAASL,EAAWM,EAAM,CACxB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAY,IACvE;AAAA,wCACgCL;AAAA,0CACED,WAAsBE;AAAA,yCACvBC,YAAgBC,eAAmBC,gBAAuBC;AAAA;AAAA,cAErF,EACT,KAAK,EAAE,CAEZ,CAGA,SAASlB,EAAcmB,EAAS,CAC9BV,EAAS,KAAK,CACZ,QAASU,EACT,MAAO,GACP,aAAc,EAClB,CAAG,CACH,CAEA,SAASf,EAAWgB,EAAQ,GAAM,CAChCvB,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,MAAM,QAAWuB,EAAiB,eAAT,OAChC1B,EAAI,SAAW0B,CACjB,CAEAvB,EAAO,UAAU,OAAO,QAAQ"}